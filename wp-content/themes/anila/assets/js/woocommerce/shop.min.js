!function(o){"use strict";var n=o("body"),i=!1;function s(s,a=!1){i&&i.abort(),i=o.ajax({type:"GET",url:s,beforeSend:function(){var e=o("ul.anila-products");a||e.addClass("preloader")},success:function(e){e=o(e);a?o("#main ul.anila-products").append(e.find("#main ul.anila-products > li")):o("#main ul.anila-products").replaceWith(e.find("#main ul.anila-products")),o("#main .woocommerce-pagination-wrap").replaceWith(e.find("#main .woocommerce-pagination-wrap")),window.history.pushState(null,null,s),i=!1,o(document).trigger("anila-products-loaded")}})}function e(){"function"==typeof o.fn.waypoint&&o(".products-load-more-btn.load-on-scroll").waypoint(function(){o(".products-load-more-btn.load-on-scroll").trigger("click")},{offset:"100%"})}n.on("change",".anila-products-per-page #per_page",function(e){e.preventDefault(),s(this.value)}),n.on("click",".products-load-more-btn",function(e){e.preventDefault(),o(this).addClass("loading"),s(o(this).attr("href"),!0)}),o(document).ready(function(){var s,a,e;n.on("click",".widget.anila-widget-woocommerce .anila_title_filter",function(e){e.preventDefault();var e=o(this).parent(".widget-title"),s=e.closest(".anila-menu-filter");s.length?e.hasClass("toggled-on")?e.removeClass("toggled-on").siblings(".widget-content").stop().slideUp().closest(".widget").removeClass("active"):(s.find(".toggled-on").removeClass("toggled-on"),s.find(".widget-content").stop().slideUp(),s.find(".widget").removeClass("active"),e.addClass("toggled-on").siblings(".widget-content").stop().slideDown().closest(".widget").addClass("active")):e.toggleClass("toggled-on").siblings(".widget-content").stop().slideToggle().closest(".widget").toggleClass("active")}),(e=o(".widget_product_categories").find("ul")).length&&e.find("li").each(function(){var s=o(this),e=s.find("> a"),a=s.find("> ul.children");a.length&&(s.hasClass("current-cat-parent")||s.removeClass("opened").addClass("closed"),s.hasClass("closed")?(a.hide(),e.before('<i class="icon-minus"></i>')):(s.hasClass("opened")||s.addClass("opened"),e.before('<i class="icon-plus"></i>')),s.find("i").on("click",function(e){a.slideToggle("slow"),s.hasClass("closed")?(s.removeClass("closed").addClass("opened"),s.find(">i").removeClass("icon-minus").addClass("icon-plus")):(s.removeClass("opened").addClass("closed"),s.find(">i").removeClass("icon-plus").addClass("icon-minus")),e.stopImmediatePropagation()}),s.on("click",function(e){o(e.target).filter("a").length||(a.slideToggle("slow"),s.hasClass("closed")?(s.removeClass("closed").addClass("opened"),s.find("i").removeClass("icon-minus").addClass("icon-plus")):(s.removeClass("opened").addClass("closed"),s.find("i").removeClass("icon-plus").addClass("icon-minus")),e.stopImmediatePropagation())}))}),s=n.find(".widget-area"),(a=0)<(e=o("#wpadminbar")).length&&(a+=e.height()),n.hasClass("anila-drawing-side")&&0<s.length&&n.on("click",".sidebar-drawing-toggle > a",function(e){e.preventDefault(),o(this).toggleClass("actived"),n.toggleClass("anila-sidebar-left"),s.toggleClass("collapsed"),o("#secondary").stick_in_parent({offset_top:a})})}).on("anila-products-loaded",function(){o(".products-load-more-btn").removeClass("loading"),e()}),e()}(jQuery);